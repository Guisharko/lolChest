<div class="lolchest">
  <div class="background-top" *ngIf="!summoner">
    <div class="container">
      <div class="search-header">
        <app-header class="row d-flex justify-content-center"></app-header>
        <form class="row d-flex justify-content-center form-inline md-form">
          <input class="form-control mr-sm-2 col-md-6" type="search" #box placeholder="Summoner" aria-label="Search">
          <select id="regionSelect" class="browser-default custom-select" placeholder="regionValue"
                  [(ngModel)]="regionValue" [ngModelOptions]="{standalone: true}">
            <option *ngFor="let region of regions" #regionBox [value]="region.value">
              {{region.viewValue}}
            </option>
          </select>
          <button mdbBtn size="sm" outline="true" rounded="true" class="btn btn-light search"
                  (click)="onEnter(box.value, regionValue)"><i class="fas fa-search"></i></button>
        </form>
      </div>
    </div>
  </div>
  <div class="summoner" *ngIf="summoner">
    <div class="container-fluid">
      <nav class="navbar navbar-expand-lg navbar-light bg-light" *ngIf="summoner">
        <img src="../../../../assets/images/chest-mini.png" alt="logo-header">
        <form class="form-inline my-2 my-lg-0">
          <input class="form-control mr-sm-2" type="search" #box placeholder="{{summoner.name}}" aria-label="Search">
          <select id="region" class="browser-default custom-select" placeholder="regionValue" [(ngModel)]="regionValue"
                  [ngModelOptions]="{standalone: true}">
            <option *ngFor="let region of regions" #regionBox [value]="region.value">
              {{region.viewValue}}
            </option>
          </select>
          <button mdbBtn size="sm" outline="true" rounded="true" class="btn btn-outline-dark search"
                  (click)="onEnter(box.value, regionValue)"><i class="fas fa-search"></i></button>
        </form>
      </nav>
    </div>
    <div class="container">
      <div class="row" *ngFor="let matchDto of matchDtos">
        {{matchDto.gameMode}}
        <div class="col-5 red">
          <div *ngFor="let participant of matchDto.participants|slice:0:5; let index = index;">
            <div class="row">
              <div class="champ-mini text-center col-md-3">
                <img
                  src="https://cdn.communitydragon.org/{{ version }}/champion/{{ participant.championId}}/square"
                  alt="{{ participant.championId}}"
                  title="{{ participant.championId}}" (click)="openXl(championStatistics); getChampionSeasonStats(matchDto.participantIdentities[index].player.accountId, participant.championId, matchDto.seasonId)">
              </div>
              <div class="col-md-3">
                {{ matchDto.participantIdentities[index].player.summonerName }}
                Spells
                {{ participant.spell1Id}}
                {{ participant.spell2Id}}
              </div>
              <div class="col-md-3">
                Items
                <div class="row">
                  <div class="col-4"><app-item-mini [version]="version" [itemId]="participant.stats.item0"></app-item-mini></div>
                  <div class="col-4"><app-item-mini [version]="version" [itemId]="participant.stats.item1"></app-item-mini></div>
                  <div class="col-4"><app-item-mini [version]="version" [itemId]="participant.stats.item2"></app-item-mini></div>
                  <div class="col-4"><app-item-mini [version]="version" [itemId]="participant.stats.item3"></app-item-mini></div>
                  <div class="col-4"><app-item-mini [version]="version" [itemId]="participant.stats.item4"></app-item-mini></div>
                  <div class="col-4"><app-item-mini [version]="version" [itemId]="participant.stats.item5"></app-item-mini></div>
                  <div class="col-4"><app-item-mini [version]="version" [itemId]="participant.stats.item6"></app-item-mini></div>
                </div>

              </div>
              <div class="col-md-3">
                KDA : {{ participant.stats.kills}} / {{ participant.stats.deaths}}
                / {{ participant.stats.assists}}
              </div>
            </div>
            <ng-template #championStatistics let-modal>
              <div class="modal-header text-center">
                <h4 class="modal-title">{{ matchDto.participantIdentities[index].player.summonerName }}</h4>
                <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <app-modal-champ
                [matchDto]="matchDto"
                [version]="version"
                [participant]="participant"
                [numberOfGames]="numberOfGames"
                [kills]="kills"
                [deaths]="deaths"
                [assists]="assists"
                [minionsKilledPerMin]="minionsKilledPerMin"
                [totalOfMinionsKilled]="totalOfMinionsKilled"
                [neutralMinionsKilled]="neutralMinionsKilled"
                [neutralMinionsKilledEnemyJungle]="neutralMinionsKilledEnemyJungle"
                [golds]="golds"
                [side]="red"
              >
              </app-modal-champ>
            </ng-template>
          </div>
        </div>
        <div class="col-5 blue">
          <div *ngFor="let participant of matchDto.participants|slice:5:10 ; let index = index;">
            <div class="row">
              <div class="champ-mini text-center col-md-3">
                <img
                  src="https://cdn.communitydragon.org/{{ version }}/champion/{{ participant.championId}}/square"
                  alt="{{ participant.championId}}"
                  title="{{ participant.championId}}" (click)="openXl(championStatistics); getChampionSeasonStats(matchDto.participantIdentities[index+ 5 ].player.accountId, participant.championId, matchDto.seasonId, matchDto.gameType)">
              </div>
              <div class="col-md-3">
                {{ matchDto.participantIdentities[index + 5].player.summonerName }}
                Spells
                {{ participant.spell1Id}}
                {{ participant.spell2Id}}
              </div>
              <div class="col-md-3">
                Items
                <div class="row">
                  <div class="col-4"><app-item-mini [version]="version" [itemId]="participant.stats.item0"></app-item-mini></div>
                  <div class="col-4"><app-item-mini [version]="version" [itemId]="participant.stats.item1"></app-item-mini></div>
                  <div class="col-4"><app-item-mini [version]="version" [itemId]="participant.stats.item2"></app-item-mini></div>
                  <div class="col-4"><app-item-mini [version]="version" [itemId]="participant.stats.item3"></app-item-mini></div>
                  <div class="col-4"><app-item-mini [version]="version" [itemId]="participant.stats.item4"></app-item-mini></div>
                  <div class="col-4"><app-item-mini [version]="version" [itemId]="participant.stats.item5"></app-item-mini></div>
                  <div class="col-4"><app-item-mini [version]="version" [itemId]="participant.stats.item6"></app-item-mini></div>
                </div>

              </div>
              <div class="col-md-3">
                KDA : {{ participant.stats.kills}} / {{ participant.stats.deaths}}
                / {{ participant.stats.assists}}
              </div>
            </div>
            <ng-template #championStatistics let-modal>
              <div class="modal-header text-center">
                <h4 class="modal-title">{{ matchDto.participantIdentities[index + 5].player.summonerName }}</h4>
                <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <app-modal-champ
                [matchDto]="matchDto"
                [version]="version"
                [participant]="participant"
                [numberOfGames]="numberOfGames"
                [kills]="kills"
                [deaths]="deaths"
                [assists]="assists"
                [minionsKilledPerMin]="minionsKilledPerMin"
                [totalOfMinionsKilled]="totalOfMinionsKilled"
                [neutralMinionsKilled]="neutralMinionsKilled"
                [neutralMinionsKilledEnemyJungle]="neutralMinionsKilledEnemyJungle"
                [golds]="golds"
                [side]="red"
              >
              </app-modal-champ>
            </ng-template>

          </div>
        </div>
      </div>
    </div>
  </div>
</div>
